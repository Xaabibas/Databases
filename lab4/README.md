# Лабораторная работа #4

## Вариант 8732

По варианту, выданному преподавателем, составить и выполнить запросы к базе данных "Учебный процесс".

Команда для подключения к базе данных ucheb:
```
psql -h pg -d ucheb
```
Отчёт по лабораторной работе должен содержать:

- Текст задания.
- Реализацию запросов на SQL.
- Планы выполнения запросов.
- Ответы на вопросы, представленные в задании.
- Выводы по работе.

Составить запросы на языке SQL (пункты 1-2).

Для каждого запроса предложить индексы, добавление которых уменьшит время выполнения запроса (указать таблицы/атрибуты, для которых нужно добавить индексы, написать тип индекса; объяснить, почему добавление индекса будет полезным для данного запроса).

Для запросов 1-2 необходимо составить возможные планы выполнения запросов. Планы составляются на основании предположения, что в таблицах отсутствуют индексы. Из составленных планов необходимо выбрать оптимальный и объяснить свой выбор.

Изменятся ли планы при добавлении индекса и как?

Для запросов 1-2 необходимо добавить в отчет вывод команды EXPLAIN ANALYZE

Подробные ответы на все вышеперечисленные вопросы должны присутствовать в отчете (планы выполнения запросов должны быть нарисованы, ответы на вопросы - представлены в текстовом виде).

Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
1.	Таблицы: Н_ЛЮДИ, Н_СЕССИЯ.
    - Вывести атрибуты: Н_ЛЮДИ.ФАМИЛИЯ, Н_СЕССИЯ.ИД.
    - Фильтры (AND):
        - Н_ЛЮДИ.ИД > 163484.
        - Н_СЕССИЯ.УЧГОД > 2001/2002.
    -Вид соединения: LEFT JOIN.

2.	Сделать запрос для получения атрибутов из указанных таблиц, применив фильтры по указанным условиям:
    - Таблицы: Н_ЛЮДИ, Н_ВЕДОМОСТИ, Н_СЕССИЯ.
    - Вывести атрибуты: Н_ЛЮДИ.ИМЯ, Н_ВЕДОМОСТИ.ИД, Н_СЕССИЯ.УЧГОД.
    - Фильтры (AND):
        - Н_ЛЮДИ.ИМЯ = Александр.
        - Н_ВЕДОМОСТИ.ДАТА < 2022-06-08.
        - Н_СЕССИЯ.ДАТА = 2012-01-25.
    - Вид соединения: LEFT JOIN.
